@inherits Custom.Hybrid.RazorTyped
@{
  var reactHelper = GetCode("shared/React.cs");
  var localDevServer = reactHelper.GetLocalDevServer();
  var moduleId = MyContext.Module.Id;
}

@Html.Raw(reactHelper.GetLocalDevTag())

<script type="module">
  import RefreshRuntime from '@($"{localDevServer}/@react-refresh")';
  RefreshRuntime.injectIntoGlobalHook(window);
  window.$RefreshReg$ = () => {};
  window.$RefreshSig$ = () => (type) => type;
  window.__vite_plugin_react_preamble_installed__ = true;
</script>

<script type="module" src="@($"{localDevServer}/@vite/client")"></script>
<script type="module" src="@($"{localDevServer}/src/main.tsx")"></script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    window.reactAppMain && window.reactAppMain(@moduleId);
  });
</script>